(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(1),s=n(19),c=n.n(s),r=(n(40),n(9)),o=n(10),l=n(12),u=n(11),d=n(8),h=(n(41),function(e){var t=e.poster,n=e.title,a=e.rating,s=e.id;return Object(i.jsxs)("section",{className:"thumbnail","data-testid":"individual-thumbnail",children:[Object(i.jsx)(d.b,{to:"/movie/".concat(s),children:Object(i.jsx)("img",{alt:"movie-poster-".concat(s),className:"movie-poster-image",src:t})}),Object(i.jsxs)("div",{className:"thumbnail-display-info",children:[Object(i.jsx)("h3",{children:n}),Object(i.jsx)("p",{children:Object(i.jsxs)("i",{children:["Avg Rating: ",a.toFixed(0)]})})]})]},"thumbnail-".concat(n))}),m=(n(47),function(e){var t=e.movies,n=e.displayMovie,a=t.map((function(e){return Object(i.jsx)(h,{poster:e.poster_path,backdrop:e.backdrop_path,title:e.title,rating:e.average_rating,releaseDate:e.release_date,id:e.id,displayMovie:n},e.id)}));return Object(i.jsx)("section",{className:"thumbnail-container","data-testid":"thumbnail-container",children:a})}),j=(n(48),function(e){var t=e.selectedMovie,n=e.displayHome;return Object(i.jsx)("header",{className:"header",style:{background:"url(".concat(t?t.backdrop_path:"https://i.imgur.com/l2Km3g7.jpg",")")},children:Object(i.jsx)(d.b,{to:"/",children:Object(i.jsx)("button",{className:"header-button",onClick:function(){return n()},disabled:!t,children:Object(i.jsxs)("h1",{className:"header-text","data-testid":"header-button",children:["RANCID",Object(i.jsx)("br",{}),"TOMATILLOS"]})})})})}),b=function(e){return fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()}))},v=(n(49),n(32)),p=n.n(v),x=n(33),O=(n(72),n(73),function(e){var t=e.videoData.map((function(e){return Object(i.jsx)("div",{className:"youtube-video",children:Object(i.jsx)(p.a,{videokey:e.key,width:"60vw",playing:!1,url:"https://www.youtube.com/embed/".concat(e.key),"data-testid":"react-player"},e.id)},e.id)}));return Object(i.jsx)("section",{className:"videos-section","data-testid":"videos-section",children:Object(i.jsx)(x.Carousel,{renderThumbs:function(e){return e.map((function(e){return Object(i.jsx)("img",{src:"https://img.youtube.com/vi/".concat(e.props.children.props.videokey,"/default.jpg"),alt:"youtube-thumbnail-".concat(e.key)},e.key)}))},children:t})})}),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).componentDidMount=function(){b(e.props.id).then((function(t){e.setState({movie:t.movie}),e.findVideos(),e.props.selectMovie(e.state.movie)})).catch((function(t){return e.setState({error:t.message})}))},e.findVideos=function(){var t;(t=e.state.movie.id,fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(t,"/videos")).then((function(e){return e.json()}))).then((function(t){return e.setState({videos:t.videos})})).catch((function(t){return e.setState({error:t.message})}))},e.state={movie:null,videos:[],error:""},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;if(this.state.movie){var t=this.state.movie.genres.map((function(e){return Object(i.jsx)("li",{children:e},e)})),n=function(e,t){return e>0&&Object(i.jsxs)("p",{children:[Object(i.jsxs)("b",{children:[t,":"]})," $",new Intl.NumberFormat("en-US").format(e)]})};return Object(i.jsxs)("section",{className:"movie-section","data-testid":"movie-section",children:[Object(i.jsxs)("article",{className:"movie-info",children:[Object(i.jsx)("img",{src:this.state.movie.poster_path,alt:"movie-poster",className:"movie-poster"}),Object(i.jsxs)("div",{className:"movie-text",children:[Object(i.jsx)("h2",{className:"movie-title",children:this.state.movie.title}),this.state.movie.tagline&&Object(i.jsx)("h3",{children:this.state.movie.tagline}),Object(i.jsx)("p",{children:this.state.movie.overview})]})]}),Object(i.jsxs)("section",{className:"details",children:[Object(i.jsxs)("article",{className:"more-info",children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Average Rating:"})," ",this.state.movie.average_rating.toFixed(1)]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Release Date:"})," ",new Date(this.state.movie.release_date).toDateString()]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Runtime:"})," ",this.state.movie.runtime," minutes"]}),n(this.state.movie.budget,"Budget"),n(this.state.movie.revenue,"Revenue"),t&&Object(i.jsxs)("section",{children:[Object(i.jsx)("p",{children:Object(i.jsx)("b",{children:"Genres:"})}),Object(i.jsx)("ul",{children:t})]}),Object(i.jsx)(d.b,{to:"/",children:Object(i.jsx)("button",{onClick:function(){return e.props.displayHome()},className:"back-button",children:"Back to Main Page"})})]}),Object(i.jsx)("div",{children:this.state.videos&&Object(i.jsx)(O,{videoData:this.state.videos},this.state.movie.id)})]})]})}return Object(i.jsx)("h3",{children:"Loading..."})}}]),n}(a.Component),g=(n(74),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState({input:t.target.value}),e.props.updateText(t.target.value)},e.state={input:""},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("form",{className:"search-container",children:[Object(i.jsx)("label",{htmlFor:"search-bar"}),Object(i.jsx)("input",{type:"text",name:"search-bar",className:"search-bar",value:this.state.input,onChange:this.handleChange,placeholder:"Search by movie title"})]})}}]),n}(a.Component)),y=n(34),R=(n(75),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).handleChange=function(t){e.setState(Object(y.a)({},t.target.name,parseInt(t.target.value)),(function(){e.props.updateRating(e.state.minRating,e.state.maxRating)}))},e.state={minRating:0,maxRating:10},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(i.jsxs)("section",{className:"rating-filter",children:[Object(i.jsx)("h3",{children:"FILTER BY AVERAGE RATING:"}),Object(i.jsxs)("form",{className:"rating-filter-form",children:[Object(i.jsx)("label",{htmlFor:"minRating",children:"Minimum Rating: "}),Object(i.jsx)("input",{type:"number",name:"minRating",value:this.state.minRating,onChange:this.handleChange,min:"0",max:this.state.maxRating,placeholder:"min"}),Object(i.jsx)("label",{htmlFor:"maxRating",children:"Maximum Rating: "}),Object(i.jsx)("input",{type:"number",name:"maxRating",value:this.state.maxRating,onChange:this.handleChange,min:this.state.minRating,max:"10",placeholder:"max"})]})]})}}]),n}(a.Component)),N=(n(76),n(3)),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).componentDidMount=function(){fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(t){return e.setState({error:t.message})}))},e.selectMovie=function(t){e.setState({selectedMovie:t})},e.displayHome=function(){return window.scrollTo(0,0),e.setState({selectedMovie:null,input:""})},e.displayMovie=function(t){b(t).then((function(t){e.setState({selectedMovie:t.movie}),e.findVideos()})).catch((function(t){return e.setState({error:t.message})}))},e.updateText=function(t){e.setState({input:t})},e.updateRating=function(t,n){e.setState({minRating:t,maxRating:n})},e.showRatingFilter=function(){return Object(i.jsx)(R,{updateRating:e.updateRating})},e.state={movies:[],input:"",minRating:0,maxRating:10,selectedMovie:null,error:""},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(i.jsxs)("main",{className:"App",children:[Object(i.jsx)(j,{selectedMovie:this.state.selectedMovie,displayHome:this.displayHome}),Object(i.jsxs)(N.c,{children:[Object(i.jsx)(N.a,{exact:!0,path:"/movie/:id",render:function(t){var n=t.match;return Object(i.jsx)(f,{id:n.params.id,displayHome:e.displayHome,selectMovie:e.selectMovie},n.params.id)}}),Object(i.jsx)(N.a,{path:"/",render:function(){return Object(i.jsxs)("section",{children:[Object(i.jsxs)("section",{className:"search-area",style:{backgroundColor:"hsl(360, 0%, 13%)"},children:[Object(i.jsx)(g,{updateText:e.updateText}),Object(i.jsx)(R,{updateRating:e.updateRating})]}),Object(i.jsx)(m,{movies:e.filteredMovies,displayMovie:e.displayMovie})]})}})]})]})}},{key:"filteredMovies",get:function(){var e=this.state.input.toLowerCase().trim(),t=this.state.minRating,n=this.state.maxRating;return this.state.movies.filter((function(e){return e.average_rating.toFixed(0)>=t&&e.average_rating.toFixed(0)<=n})).filter((function(t){return t.title.toLowerCase().includes(e)}))}}]),n}(a.Component),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),s(e),c(e)}))},C=Object(i.jsx)(d.a,{basename:"/rancid-tomatillos",children:Object(i.jsx)(k,{})});c.a.render(C,document.getElementById("root")),M()}},[[77,1,2]]]);
//# sourceMappingURL=main.b9bff6c1.chunk.js.map